<ion-view view-title="New Issue" ng-controller="NewIssueCtrl">
<ion-nav-buttons side="secondary">
<button type="button" ng-controller="LogoutCtrl" ng-click="logOut()" class="button">Log Out</button>
</ion-nav-buttons>
<ion-content padding="true">

<h1>Post a new issue</h1>
<div>
 <leaflet defaults="mapDefaults"  center="mapConfig.center" markers="mapConfig.markers" data-tap-disabled="false" height='100px'></div>
 <div>
    <form name="issueForm">
      <div class="list" ng-hide="custom">

        <label class="item item-input item-select">
          <div class="input-label">
            Select a type
          </div>
          <select  ng-model="newIssue.issueTypeId">
            <option ng-repeat="type in issueTypes" required="required" value="{{type.id}}">{{type.name}}</option>
          </select>
        </label>
      </div>
      <div class="card item" >
        <textarea ng-model="newIssue.desc" required="required" placeholder="Please give more details about the issue..."></textarea>
      </div>
      <div>
        <ul ng-controller="TagsController" id="tag" class="nav">
          <input type="text" value="TagName" ng-model="newTagName"
          placeholder="name of new tag...">
          <button ng-disabled="!newTagName" ng-click="addTag()">Add Tag</button>
          <li style="display:inline;" ng-repeat="tag in tags.data track by $index | limitTo: 3">
            <span>{{tag}}</span>  <i ng-click="deleteTag($index)" class="ion-ios-close-outline"> </i>
          </li>
        </ul>
      </div>
      <button ng-click="getPhoto()" class="button button-block block-primary">Take Photo</button>
      <img ng-src="{{newIssue.photo}}" style="max-width: 30%">
      <button ng-click="saveIssue()" ng-disabled="issueForm.$invalid || newIssue.issueTypeId === '' " class="button button-block block-secondary">Save that issue</button>
    </form>
  </ion-content>
</ion-view>
</div>
